<div class="x-bookable">
  <div class="alert alert-info text-center" role="alert" ng-if="!loaded && accommodation">
    업체 정보를 로딩중입니다.
  </div>

  <div class="alert alert-danger text-center" role="alert" ng-if="loaded && !accommodation">
    업체 정보를 불러올 수 없습니다.
  </div>

  <div ng-if="loaded && accommodation">
    <div id="xbkb-calendar">
      <bookable-accommodation-calendar-roomtype showrates="{{!!showrates}}" ng-select="select($date, $roomtype, $rates)" label-closed="{{labelClosed}}"></bookable-accommodation-calendar-roomtype>
    </div>

    <div id="xbkb-finder" ng-show="checkin">
      <div class="mb15">
        <div class="border bg-lighter p15">
          <div class="row gap5">
            <div class="col-sm-3 col-xs-12">
              <div class="form-group">
                <label>투숙일</label>

                <div class="input-group">
                  <input type="text" ng-flatpickr disable-past-days class="form-control" data-date-format="Y-m-d" placeholder="투숙일" ng-model="form.checkin">
                </div>
              </div>
            </div>
            <div class="col-sm-3 col-xs-12">
              <div class="form-group">
                <label>숙박기간</label>

                <select class="form-control" ng-model="form.days">
                  <option ng-repeat="n in [] | range:1:15" ng-value="{{n}}">{{n}}박</option>
                </select>
              </div>
            </div>
            <div class="col-sm-3 col-xs-12">
              <div class="form-group">
                <label>투숙인원</label>

                <select class="form-control" ng-model="form.guests">
                  <option ng-repeat="n in [] | range:1:maximum" ng-value="{{n}}">{{n}}명</option>
                </select>
              </div>
            </div>
            <div class="col-sm-3 col-xs-12">
              <div class="form-group">
                <label>&nbsp;</label>
                <a href class="btn btn-primary btn-block" ng-click="find()" ng-disabled="!form.checkin">객실검색</a>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="mv15">
        <bookable-accommodation-finder checkin="{{checkin}}" checkout="{{checkout}}" days="{{days}}" roomtypeid="{{roomtypeid}}" ng-update="setrooms($rooms)"></bookable-accommodation-finder>
      </div>

      <div class="mv15">
        <bookable-accommodation-extra ng-update="setextraoptions($extraoptions)"></bookable-accommodation-extra>
      </div>

      <div style="height:60px;"></div>

      <div class="text-center hidden-sm hidden-xs">
        <div class="btn-group">
          <a href class="btn btn-default btn-lg" style="padding: 13px 25px;" ng-click="clear()">달력으로</a>
          <a href class="btn btn-danger btn-lg" style="padding: 13px 25px;" ng-disabled="!rooms.length" ng-click="savetocart()" ng-if="">장바구니</a>
          <a href class="btn btn-danger btn-lg btn-fill" style="padding: 13px 25px;" ng-disabled="!rooms.length" ng-click="booknow()">예약하기</a>
        </div>
      </div>

      <div class="hidden-md hidden-lg">
        <div class="btn-group btn-group-justified">
          <a href class="btn btn-danger btn-lg" ng-disabled="!rooms.length" ng-click="savetocart()">장바구니</a>
          <a href class="btn btn-danger btn-lg btn-fill" ng-disabled="!rooms.length" ng-click="booknow()">예약하기</a>
        </div>
      </div>

      <div style="height:80px;"></div>

      <div ng-show="isbooknow && rooms.length">
        <bookable-accommodation-form ng-rooms="rooms" ng-extra-options="extraoptions" ng-complete="complete($reservation)"></bookable-accommodation-form>
      </div>
    </div>
  </div>
</div>
